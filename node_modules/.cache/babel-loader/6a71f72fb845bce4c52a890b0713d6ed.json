{"ast":null,"code":"var _jsxFileName = \"/Users/ioanalexandrumuresan/Desktop/DS/DS2022_30442_Muresan_Ioan-Alexandru_Assignment_1_frontend/src/User/WebSocket.js\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport SockJSClient from 'react-stomp';\nimport Stomp from 'react-stomp';\nimport SockJS from 'react-stomp';\nimport './User.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass WebSocket {\n  constructor() {\n    // another method here\n\n    var stompClient = null;\n    var socket = new SockJS('/ws');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n      console.log(frame);\n      stompClient.subscribe('/all/messages', function (result) {\n        JSON.parse(result.body);\n      });\n    });\n    var sendMessage = async e => {\n      var text = document.getElementById('text').value;\n      stompClient.send('/app/application', {}, JSON.stringify({\n        \"from\": \"from\",\n        \"text\": \"text\"\n      }));\n    };\n\n    //the other method ended here\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(SockJSClient, {\n        url: \"http://localhost:8080/websocket-chat/\",\n        topics: ['/topic/user'],\n        onConnect: () => {\n          console.log(\"connected\");\n        },\n        onDisconnect: () => {\n          console.log(\"Disconnected\");\n        },\n        onMessage: msg => {\n          console.log(msg);\n        },\n        ref: client => {\n          this.clientRef = client;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Insert something here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        children: \"Text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default WebSocket;","map":{"version":3,"names":["axios","React","useEffect","useState","SockJSClient","Stomp","SockJS","WebSocket","constructor","stompClient","socket","over","connect","frame","console","log","subscribe","result","JSON","parse","body","sendMessage","e","text","document","getElementById","value","send","stringify","msg","client","clientRef"],"sources":["/Users/ioanalexandrumuresan/Desktop/DS/DS2022_30442_Muresan_Ioan-Alexandru_Assignment_1_frontend/src/User/WebSocket.js"],"sourcesContent":["import axios from \"axios\";\nimport React, {useEffect, useState} from \"react\";\nimport SockJSClient from 'react-stomp';\nimport Stomp from 'react-stomp';\nimport SockJS from 'react-stomp';\nimport './User.css';\n\nclass WebSocket {\n    constructor() {\n        // another method here\n\n\n        var stompClient = null;\n\n        var socket = new SockJS('/ws');\n        stompClient = Stomp.over(socket);\n        stompClient.connect({}, function (frame) {\n            console.log(frame);\n            stompClient.subscribe('/all/messages', function (result) {\n                JSON.parse(result.body);\n            });\n        });\n\n        var sendMessage = async (e) => {\n            var text = document.getElementById('text').value;\n            stompClient.send('/app/application', {}, JSON.stringify({ \"from\": \"from\", \"text\": \"text\" }));\n        };\n\n        //the other method ended here\n        return (\n            <div>\n                <SockJSClient url='http://localhost:8080/websocket-chat/'\n                    topics={['/topic/user']}\n                    onConnect={() => {\n                        console.log(\"connected\");\n                    } }\n                    onDisconnect={() => {\n                        console.log(\"Disconnected\");\n                    } }\n                    onMessage={(msg) => {\n                        console.log(msg);\n                    } }\n                    ref={(client) => {\n                        this.clientRef = client;\n                    } } />\n                <label>Insert something here</label>\n                <br></br>\n                <input type='text'>Text</input>\n            </div>\n        );\n    }\n}\n\nexport default WebSocket;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,YAAY,MAAM,aAAa;AACtC,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAO,YAAY;AAAC;AAEpB,MAAMC,SAAS,CAAC;EACZC,WAAW,GAAG;IACV;;IAGA,IAAIC,WAAW,GAAG,IAAI;IAEtB,IAAIC,MAAM,GAAG,IAAIJ,MAAM,CAAC,KAAK,CAAC;IAC9BG,WAAW,GAAGJ,KAAK,CAACM,IAAI,CAACD,MAAM,CAAC;IAChCD,WAAW,CAACG,OAAO,CAAC,CAAC,CAAC,EAAE,UAAUC,KAAK,EAAE;MACrCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBJ,WAAW,CAACO,SAAS,CAAC,eAAe,EAAE,UAAUC,MAAM,EAAE;QACrDC,IAAI,CAACC,KAAK,CAACF,MAAM,CAACG,IAAI,CAAC;MAC3B,CAAC,CAAC;IACN,CAAC,CAAC;IAEF,IAAIC,WAAW,GAAG,MAAOC,CAAC,IAAK;MAC3B,IAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,KAAK;MAChDjB,WAAW,CAACkB,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,EAAET,IAAI,CAACU,SAAS,CAAC;QAAE,MAAM,EAAE,MAAM;QAAE,MAAM,EAAE;MAAO,CAAC,CAAC,CAAC;IAChG,CAAC;;IAED;IACA,oBACI;MAAA,wBACI,QAAC,YAAY;QAAC,GAAG,EAAC,uCAAuC;QACrD,MAAM,EAAE,CAAC,aAAa,CAAE;QACxB,SAAS,EAAE,MAAM;UACbd,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;QAC5B,CAAG;QACH,YAAY,EAAE,MAAM;UAChBD,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B,CAAG;QACH,SAAS,EAAGc,GAAG,IAAK;UAChBf,OAAO,CAACC,GAAG,CAACc,GAAG,CAAC;QACpB,CAAG;QACH,GAAG,EAAGC,MAAM,IAAK;UACb,IAAI,CAACC,SAAS,GAAGD,MAAM;QAC3B;MAAG;QAAA;QAAA;QAAA;MAAA,QAAG,eACV;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAoC,eACpC;QAAA;QAAA;QAAA;MAAA,QAAS,eACT;QAAO,IAAI,EAAC,MAAM;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAa;IAAA;MAAA;MAAA;MAAA;IAAA,QAC7B;EAEd;AACJ;AAEA,eAAevB,SAAS"},"metadata":{},"sourceType":"module"}